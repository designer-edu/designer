


<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Designer Worlds &#8212; Designer 0.4.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/cloud.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noticia+Text:400,i,b,bi|Open+Sans:400,i,b,bi|Roboto+Mono:400,i,b,bi&amp;display=swap" type="text/css" />
    
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/tabs.js"></script>

    
    
     
        <script src="../_static/jquery.cookie.js"></script>
    

    
     
        <script src="../_static/cloud.base.js"></script>
    

    
     
        <script src="../_static/cloud.js"></script>
    

    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Sparkles" href="sparkles.html" />
    <link rel="prev" title="Emoji Clicker" href="emoji_clicker.html" /> 
        <meta name="viewport" content="width=device-width, initial-scale=1">
  </head><body>
    <div class="relbar-top">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="sparkles.html" title="Sparkles"
             accesskey="N">next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="emoji_clicker.html" title="Emoji Clicker"
             accesskey="P">previous</a> &nbsp; &nbsp;</li>
    <li><a href="../contents.html">Designer 0.4.1 documentation</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="examples.html" accesskey="U">Longer Examples</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Designer Worlds</a></li> 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="designer-worlds">
<span id="world"></span><h1>Designer Worlds<a class="headerlink" href="#designer-worlds" title="Permalink to this heading">¶</a></h1>
<p>Graphics are great, but wouldn’t it be cool to make stuff move and bounce and jump?
To click your mouse and collect a coin, or strike a key and make a heart wiggle?
In this guide, we’ll talk about how you can use Designer to make a game, animation, or interactive
visualization.</p>
<p>We begin with the absolute minimum Designer program:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-RGF0YWNsYXNzZXM=" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-RGF0YWNsYXNzZXM=" name="RGF0YWNsYXNzZXM=" role="tab" tabindex="0">Dataclasses</button><button aria-controls="panel-0-RGljdGlvbmFyaWVz" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-RGljdGlvbmFyaWVz" name="RGljdGlvbmFyaWVz" role="tab" tabindex="-1">Dictionaries</button></div><div aria-labelledby="tab-0-RGF0YWNsYXNzZXM=" class="sphinx-tabs-panel group-tab" id="panel-0-RGF0YWNsYXNzZXM=" name="RGF0YWNsYXNzZXM=" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">designer</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-0-RGljdGlvbmFyaWVz" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-RGljdGlvbmFyaWVz" name="RGljdGlvbmFyaWVz" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">designer</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
</div></div>
<p>The first line of code imports all of Designer’s commands, making them available to be used.
The second line (<code class="code docutils literal notranslate"><span class="pre">start()</span></code>) causes an external blank white window to appear.
You will generally always need these two lines of code for Designer to function.
The <code class="code docutils literal notranslate"><span class="pre">start</span></code> command works just like the <code class="code docutils literal notranslate"><span class="pre">draw</span></code> command, but helps us to understand that we are
“starting” a game rather than just drawing some simple objects.</p>
<p>The <code class="code docutils literal notranslate"><span class="pre">start()</span></code> command goes at the very end of all of your other code. Once you
<code class="code docutils literal notranslate"><span class="pre">start</span></code> your game, no other code will run: the game enters an infinite loop and continues forever.
Let’s see what kind of code we can put before then.</p>
<a class="reference internal image-reference" href="../_images/world_0.png"><img alt="A window with nothing in it." src="../_images/world_0.png" style="width: 700px;" /></a>
<section id="the-world">
<h2>The World<a class="headerlink" href="#the-world" title="Permalink to this heading">¶</a></h2>
<p>A central concept in Designer games is the World. The state (or “model”) of the World controls
what you see in the Window (or “View”). If something does not exist in the World, then it does
not exist in the Window. Technically speaking, the state of the World can be any type of data,
but by convention we make it a dataclass or a dictionary containing references to Designer Objects.</p>
<p>Let’s make a simple World with just a box in the center of the screen.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-1-RGF0YWNsYXNzZXM=" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-1-RGF0YWNsYXNzZXM=" name="RGF0YWNsYXNzZXM=" role="tab" tabindex="0">Dataclasses</button><button aria-controls="panel-1-RGljdGlvbmFyaWVz" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-RGljdGlvbmFyaWVz" name="RGljdGlvbmFyaWVz" role="tab" tabindex="-1">Dictionaries</button></div><div aria-labelledby="tab-1-RGF0YWNsYXNzZXM=" class="sphinx-tabs-panel group-tab" id="panel-1-RGF0YWNsYXNzZXM=" name="RGF0YWNsYXNzZXM=" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span> <span class="nn">designer</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos"> 2</span><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="nd">@dataclass</span>
<span class="linenos"> 5</span><span class="k">class</span> <span class="nc">World</span><span class="p">:</span>
<span class="linenos"> 6</span>    <span class="n">box</span><span class="p">:</span> <span class="n">DesignerObject</span>
<span class="linenos"> 7</span>
<span class="linenos"> 8</span>
<span class="linenos"> 9</span><span class="k">def</span> <span class="nf">create_the_world</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">World</span><span class="p">:</span>
<span class="linenos">10</span>    <span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">11</span><span class="sd">    Create a new World with a 20x30 black rectangle inside.</span>
<span class="linenos">12</span><span class="sd">    &quot;&quot;&quot;</span>
<span class="linenos">13</span>    <span class="k">return</span> <span class="n">World</span><span class="p">(</span><span class="n">rectangle</span><span class="p">(</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="linenos">14</span>
<span class="linenos">15</span><span class="c1"># This tells Designer to call our `create_the_world` function</span>
<span class="linenos">16</span><span class="c1"># when the game starts, in order to setup our initial World.</span>
<span class="linenos">17</span><span class="n">when</span><span class="p">(</span><span class="s2">&quot;starting&quot;</span><span class="p">,</span> <span class="n">create_the_world</span><span class="p">)</span>
<span class="linenos">18</span>
<span class="linenos">19</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-1-RGljdGlvbmFyaWVz" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-RGljdGlvbmFyaWVz" name="RGljdGlvbmFyaWVz" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span> <span class="nn">designer</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="c1"># Define the shape of the World</span>
<span class="linenos"> 4</span><span class="n">World</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;box&quot;</span><span class="p">:</span> <span class="n">DesignerObject</span> <span class="p">}</span>
<span class="linenos"> 5</span>
<span class="linenos"> 6</span><span class="c1"># Create a function that creates new worlds</span>
<span class="linenos"> 7</span><span class="k">def</span> <span class="nf">create_the_world</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">World</span><span class="p">:</span>
<span class="linenos"> 8</span>    <span class="c1"># Actually create an initial World instance</span>
<span class="linenos"> 9</span>    <span class="k">return</span> <span class="p">{</span>
<span class="linenos">10</span>        <span class="c1"># The world has a 20x30 black rectangle in it</span>
<span class="linenos">11</span>        <span class="s2">&quot;box&quot;</span><span class="p">:</span> <span class="n">rectangle</span><span class="p">(</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="linenos">12</span>    <span class="p">}</span>
<span class="linenos">13</span>
<span class="linenos">14</span><span class="c1"># This tells Designer to call our `create_the_world` function</span>
<span class="linenos">15</span><span class="c1"># when the game starts, in order to setup our initial World.</span>
<span class="linenos">16</span><span class="n">when</span><span class="p">(</span><span class="s2">&quot;starting&quot;</span><span class="p">,</span> <span class="n">create_the_world</span><span class="p">)</span>
<span class="linenos">17</span>
<span class="linenos">18</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
</div></div>
<p>To properly define a World, we create a definition on line 4. We say that a World is has a <code class="code docutils literal notranslate"><span class="pre">box</span></code>
with a value of type <code class="code docutils literal notranslate"><span class="pre">DesignerObject</span></code>.
The <code class="code docutils literal notranslate"><span class="pre">DesignerObject</span></code> is a fundamental concept in Designer, representing the actual drawable shapes
and images on the screen.</p>
<p>The definition only describes the shape of the World; no actual World has been created yet.
Instead, that is the responsibility of the <code class="code docutils literal notranslate"><span class="pre">create_the_world</span></code> function.
This is a “nullary function” (it takes no parameters) that returns a <code class="code docutils literal notranslate"><span class="pre">World</span></code>.
You might also call it a “constructor” for Worlds. Every time we call that function,
we get a fresh new copy of the default, initial <code class="code docutils literal notranslate"><span class="pre">World</span></code>. However, we do not call that function
ourselves.</p>
<p>Instead, we pass the name of the function (without parentheses!) to the code:<cite>when</cite> function, to tell Designer
what to do when the game is starting. Formally, we are binding the <code class="code docutils literal notranslate"><span class="pre">&quot;starting&quot;</span></code> event
to our event handler function <code class="code docutils literal notranslate"><span class="pre">create_the_world</span></code>. Informally, we can say that now
the <code class="code docutils literal notranslate"><span class="pre">create_the_world</span></code> function will be called on the game’s start, in order to create
the World.</p>
<p>Our World is quite simple: it only has a <code class="code docutils literal notranslate"><span class="pre">box</span></code> mapped to a <a class="reference internal" href="../students/docs.html#rectangle"><span class="std std-ref">rectangle</span></a>.
We created the rectangle to be black and have a width of 200 and a height of 100.
Because the rectangle is stored in World that we return, it will be drawn on the screen.</p>
<a class="reference internal image-reference" href="../_images/world_1.png"><img alt="A window with a black rectangle in the middle." src="../_images/world_1.png" style="width: 700px;" /></a>
</section>
<section id="updating-the-world">
<h2>Updating the World<a class="headerlink" href="#updating-the-world" title="Permalink to this heading">¶</a></h2>
<p>We’ve created a rectangle, but it’s not doing anything yet. Let’s create
a function that will tell Designer how to manipulate our rectangle.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-2-RGF0YWNsYXNzZXM=" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-2-RGF0YWNsYXNzZXM=" name="RGF0YWNsYXNzZXM=" role="tab" tabindex="0">Dataclasses</button><button aria-controls="panel-2-RGljdGlvbmFyaWVz" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-2-RGljdGlvbmFyaWVz" name="RGljdGlvbmFyaWVz" role="tab" tabindex="-1">Dictionaries</button></div><div aria-labelledby="tab-2-RGF0YWNsYXNzZXM=" class="sphinx-tabs-panel group-tab" id="panel-2-RGF0YWNsYXNzZXM=" name="RGF0YWNsYXNzZXM=" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span> <span class="nn">designer</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos"> 2</span><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="nd">@dataclass</span>
<span class="linenos"> 5</span><span class="k">class</span> <span class="nc">World</span><span class="p">:</span>
<span class="linenos"> 6</span>    <span class="n">box</span><span class="p">:</span> <span class="n">DesignerObject</span>
<span class="linenos"> 7</span>
<span class="linenos"> 8</span><span class="k">def</span> <span class="nf">create_the_world</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">World</span><span class="p">:</span>
<span class="linenos"> 9</span>    <span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">10</span><span class="sd">    Create a new World with a 20x30 black rectangle inside.</span>
<span class="linenos">11</span><span class="sd">    &quot;&quot;&quot;</span>
<span class="linenos">12</span>    <span class="k">return</span> <span class="n">World</span><span class="p">(</span><span class="n">rectangle</span><span class="p">(</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="linenos">13</span>
<span class="hll"><span class="linenos">14</span><span class="k">def</span> <span class="nf">spin_the_box</span><span class="p">(</span><span class="n">world</span><span class="p">:</span> <span class="n">World</span><span class="p">):</span>
</span><span class="hll"><span class="linenos">15</span>    <span class="sd">&quot;&quot;&quot;</span>
</span><span class="hll"><span class="linenos">16</span><span class="sd">    Increase the world&#39;s box angle by one degree, spinning the box a small amount.</span>
</span><span class="hll"><span class="linenos">17</span><span class="sd">    &quot;&quot;&quot;</span>
</span><span class="hll"><span class="linenos">18</span>    <span class="n">world</span><span class="o">.</span><span class="n">box</span><span class="o">.</span><span class="n">angle</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span class="linenos">19</span>
<span class="linenos">20</span><span class="c1"># This tells Designer to call our `create_the_world` function</span>
<span class="linenos">21</span><span class="c1"># when the game starts, in order to setup our initial World.</span>
<span class="linenos">22</span><span class="n">when</span><span class="p">(</span><span class="s2">&quot;starting&quot;</span><span class="p">,</span> <span class="n">create_the_world</span><span class="p">)</span>
<span class="hll"><span class="linenos">23</span><span class="c1"># Tell Designer to call our spin_the_box function every update.</span>
</span><span class="hll"><span class="linenos">24</span><span class="c1"># There are usually 30 updates per second!</span>
</span><span class="hll"><span class="linenos">25</span><span class="n">when</span><span class="p">(</span><span class="s2">&quot;updating&quot;</span><span class="p">,</span> <span class="n">spin_the_box</span><span class="p">)</span>
</span><span class="linenos">26</span>
<span class="linenos">27</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-2-RGljdGlvbmFyaWVz" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-2-RGljdGlvbmFyaWVz" name="RGljdGlvbmFyaWVz" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span> <span class="nn">designer</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="c1"># Define the shape of the World</span>
<span class="linenos"> 4</span><span class="n">World</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;box&quot;</span><span class="p">:</span> <span class="n">DesignerObject</span> <span class="p">}</span>
<span class="linenos"> 5</span>
<span class="linenos"> 6</span><span class="c1"># Create a function that creates new worlds</span>
<span class="linenos"> 7</span><span class="k">def</span> <span class="nf">create_the_world</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">World</span><span class="p">:</span>
<span class="linenos"> 8</span>    <span class="c1"># Actually create an initial World instance</span>
<span class="linenos"> 9</span>    <span class="k">return</span> <span class="p">{</span>
<span class="linenos">10</span>        <span class="c1"># The world has a 20x30 black rectangle in it</span>
<span class="linenos">11</span>        <span class="s2">&quot;box&quot;</span><span class="p">:</span> <span class="n">rectangle</span><span class="p">(</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="linenos">12</span>    <span class="p">}</span>
<span class="linenos">13</span>
<span class="hll"><span class="linenos">14</span><span class="c1"># Define a function that spins the box</span>
</span><span class="hll"><span class="linenos">15</span><span class="k">def</span> <span class="nf">spin_the_box</span><span class="p">(</span><span class="n">world</span><span class="p">:</span> <span class="n">World</span><span class="p">):</span>
</span><span class="hll"><span class="linenos">16</span>    <span class="c1"># Increase the boxes angle by one degree</span>
</span><span class="hll"><span class="linenos">17</span>    <span class="n">world</span><span class="p">[</span><span class="s1">&#39;box&#39;</span><span class="p">][</span><span class="s1">&#39;angle&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span class="linenos">18</span>
<span class="linenos">19</span><span class="c1"># This tells Designer to call our `create_the_world` function</span>
<span class="linenos">20</span><span class="c1"># when the game starts, in order to setup our initial World.</span>
<span class="linenos">21</span><span class="n">when</span><span class="p">(</span><span class="s2">&quot;starting&quot;</span><span class="p">,</span> <span class="n">create_the_world</span><span class="p">)</span>
<span class="hll"><span class="linenos">22</span><span class="c1"># Tell Designer to call our spin_the_box function every update.</span>
</span><span class="hll"><span class="linenos">23</span><span class="c1"># There are usually 30 updates per second!</span>
</span><span class="hll"><span class="linenos">24</span><span class="n">when</span><span class="p">(</span><span class="s2">&quot;updating&quot;</span><span class="p">,</span> <span class="n">spin_the_box</span><span class="p">)</span>
</span><span class="linenos">25</span>
<span class="linenos">26</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
</div></div>
<p>The new function, <code class="code docutils literal notranslate"><span class="pre">spin_the_box</span></code> consumes a World and changes the value in one of its fields.
Specifically, it accesses the <code class="code docutils literal notranslate"><span class="pre">'box'</span></code> to get access to our previously-created rectangle,
and then increments its <code class="code docutils literal notranslate"><span class="pre">angle</span></code> by 1. This means to “rotate the box by one degree.”</p>
<p>On its own, defining the <code class="code docutils literal notranslate"><span class="pre">spin_the_box</span></code> function does not do anything. We also cannot call
the function on our own - that would simply rotate the box by only one degree (a tiny amount), and where
would we get a World from anyway?</p>
<p>Instead we have to bind the <code class="code docutils literal notranslate"><span class="pre">&quot;updating&quot;</span></code> event to our <code class="code docutils literal notranslate"><span class="pre">spin_the_box</span></code> function using the
<a class="reference internal" href="../students/docs.html#when"><span class="std std-ref">when</span></a> built-in function. The result almost reads like a sentence: “When the
game is updating, spin the box.” This is why it is necessary to only rotate the box a single
degree: the game updates many times a second (usually 30 times, in fact), so we only have
to describe a very small, incremental change to our world.</p>
<p>This idea of defining functions that make small changes in the world, and then binding them with
the <a class="reference internal" href="../students/docs.html#when"><span class="std std-ref">when</span></a> function is at the heart of Designer games. We call this “Event Handling”.</p>
<a class="reference internal image-reference" href="../_images/world_2.gif"><img alt="A window with a black ROTATING rectangle in the middle." src="../_images/world_2.gif" style="width: 700px;" /></a>
</section>
<section id="interacting-with-the-world">
<h2>Interacting with the World<a class="headerlink" href="#interacting-with-the-world" title="Permalink to this heading">¶</a></h2>
<p>It’s not a game if there isn’t any interaction, so let’s now add the ability to move the
rectangle by clicking on the screen. We’ll use another event type, <code class="code docutils literal notranslate"><span class="pre">&quot;clicking&quot;</span></code>, which
provides some additional parameters.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-3-RGF0YWNsYXNzZXM=" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-3-RGF0YWNsYXNzZXM=" name="RGF0YWNsYXNzZXM=" role="tab" tabindex="0">Dataclasses</button><button aria-controls="panel-3-RGljdGlvbmFyaWVz" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-3-RGljdGlvbmFyaWVz" name="RGljdGlvbmFyaWVz" role="tab" tabindex="-1">Dictionaries</button></div><div aria-labelledby="tab-3-RGF0YWNsYXNzZXM=" class="sphinx-tabs-panel group-tab" id="panel-3-RGF0YWNsYXNzZXM=" name="RGF0YWNsYXNzZXM=" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span> <span class="nn">designer</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos"> 2</span><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="nd">@dataclass</span>
<span class="linenos"> 5</span><span class="k">class</span> <span class="nc">World</span><span class="p">:</span>
<span class="linenos"> 6</span>    <span class="n">box</span><span class="p">:</span> <span class="n">DesignerObject</span>
<span class="linenos"> 7</span>
<span class="linenos"> 8</span><span class="k">def</span> <span class="nf">create_the_world</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">World</span><span class="p">:</span>
<span class="linenos"> 9</span>    <span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">10</span><span class="sd">    Create a new World with a 20x30 black rectangle inside.</span>
<span class="linenos">11</span><span class="sd">    &quot;&quot;&quot;</span>
<span class="linenos">12</span>    <span class="k">return</span> <span class="n">World</span><span class="p">(</span><span class="n">rectangle</span><span class="p">(</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="linenos">13</span>
<span class="linenos">14</span><span class="k">def</span> <span class="nf">spin_the_box</span><span class="p">(</span><span class="n">world</span><span class="p">:</span> <span class="n">World</span><span class="p">):</span>
<span class="linenos">15</span>    <span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">16</span><span class="sd">    Increase the world&#39;s box angle by one degree, spinning the box a small amount.</span>
<span class="linenos">17</span><span class="sd">    &quot;&quot;&quot;</span>
<span class="linenos">18</span>    <span class="n">world</span><span class="o">.</span><span class="n">box</span><span class="o">.</span><span class="n">angle</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="linenos">19</span>
<span class="hll"><span class="linenos">20</span><span class="k">def</span> <span class="nf">move_the_box</span><span class="p">(</span><span class="n">world</span><span class="p">:</span> <span class="n">World</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
</span><span class="hll"><span class="linenos">21</span>    <span class="sd">&quot;&quot;&quot;</span>
</span><span class="hll"><span class="linenos">22</span><span class="sd">    Move the box to the given position.</span>
</span><span class="hll"><span class="linenos">23</span><span class="sd">    &quot;&quot;&quot;</span>
</span><span class="hll"><span class="linenos">24</span>    <span class="n">world</span><span class="o">.</span><span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
</span><span class="hll"><span class="linenos">25</span>    <span class="n">world</span><span class="o">.</span><span class="n">box</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
</span><span class="linenos">26</span>
<span class="linenos">27</span><span class="c1"># This tells Designer to call our `create_the_world` function</span>
<span class="linenos">28</span><span class="c1"># when the game starts, in order to setup our initial World.</span>
<span class="linenos">29</span><span class="n">when</span><span class="p">(</span><span class="s2">&quot;starting&quot;</span><span class="p">,</span> <span class="n">create_the_world</span><span class="p">)</span>
<span class="linenos">30</span><span class="c1"># Tell Designer to call our spin_the_box function every update.</span>
<span class="linenos">31</span><span class="c1"># There are usually 30 updates per second!</span>
<span class="linenos">32</span><span class="n">when</span><span class="p">(</span><span class="s2">&quot;updating&quot;</span><span class="p">,</span> <span class="n">spin_the_box</span><span class="p">)</span>
<span class="hll"><span class="linenos">33</span><span class="c1"># Tell Designer to call our move_the_box function every click.</span>
</span><span class="hll"><span class="linenos">34</span><span class="n">when</span><span class="p">(</span><span class="s2">&quot;clicking&quot;</span><span class="p">,</span> <span class="n">move_the_box</span><span class="p">)</span>
</span><span class="linenos">35</span>
<span class="linenos">36</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-3-RGljdGlvbmFyaWVz" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-3-RGljdGlvbmFyaWVz" name="RGljdGlvbmFyaWVz" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span> <span class="nn">designer</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="c1"># Define the shape of the World</span>
<span class="linenos"> 4</span><span class="n">World</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;box&quot;</span><span class="p">:</span> <span class="n">DesignerObject</span> <span class="p">}</span>
<span class="linenos"> 5</span>
<span class="linenos"> 6</span><span class="c1"># Create a function that creates new worlds</span>
<span class="linenos"> 7</span><span class="k">def</span> <span class="nf">create_the_world</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">World</span><span class="p">:</span>
<span class="linenos"> 8</span>    <span class="c1"># Actually create an initial World instance</span>
<span class="linenos"> 9</span>    <span class="k">return</span> <span class="p">{</span>
<span class="linenos">10</span>        <span class="c1"># The world has a 20x30 black rectangle in it</span>
<span class="linenos">11</span>        <span class="s2">&quot;box&quot;</span><span class="p">:</span> <span class="n">rectangle</span><span class="p">(</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="linenos">12</span>    <span class="p">}</span>
<span class="linenos">13</span>
<span class="linenos">14</span><span class="c1"># Define a function that spins the box</span>
<span class="linenos">15</span><span class="k">def</span> <span class="nf">spin_the_box</span><span class="p">(</span><span class="n">world</span><span class="p">:</span> <span class="n">World</span><span class="p">):</span>
<span class="linenos">16</span>    <span class="c1"># Increase the boxes angle by one degree</span>
<span class="linenos">17</span>    <span class="n">world</span><span class="p">[</span><span class="s1">&#39;box&#39;</span><span class="p">][</span><span class="s1">&#39;angle&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="linenos">18</span>
<span class="hll"><span class="linenos">19</span><span class="c1"># Move the box to the given position</span>
</span><span class="hll"><span class="linenos">20</span><span class="k">def</span> <span class="nf">move_the_box</span><span class="p">(</span><span class="n">world</span><span class="p">:</span> <span class="n">World</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
</span><span class="hll"><span class="linenos">21</span>    <span class="c1"># Adjust the X and Y positions of the box</span>
</span><span class="hll"><span class="linenos">22</span>    <span class="n">world</span><span class="p">[</span><span class="s1">&#39;box&#39;</span><span class="p">][</span><span class="s1">&#39;x&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span>
</span><span class="hll"><span class="linenos">23</span>    <span class="n">world</span><span class="p">[</span><span class="s1">&#39;box&#39;</span><span class="p">][</span><span class="s1">&#39;y&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">y</span>
</span><span class="linenos">24</span>
<span class="linenos">25</span><span class="c1"># This tells Designer to call our `create_the_world` function</span>
<span class="linenos">26</span><span class="c1"># when the game starts, in order to setup our initial World.</span>
<span class="linenos">27</span><span class="n">when</span><span class="p">(</span><span class="s2">&quot;starting&quot;</span><span class="p">,</span> <span class="n">create_the_world</span><span class="p">)</span>
<span class="linenos">28</span><span class="c1"># Tell Designer to call our spin_the_box function every update.</span>
<span class="linenos">29</span><span class="c1"># There are usually 30 updates per second!</span>
<span class="linenos">30</span><span class="n">when</span><span class="p">(</span><span class="s2">&quot;updating&quot;</span><span class="p">,</span> <span class="n">spin_the_box</span><span class="p">)</span>
<span class="hll"><span class="linenos">31</span><span class="c1"># Tell Designer to call our move_the_box function every click.</span>
</span><span class="hll"><span class="linenos">32</span><span class="n">when</span><span class="p">(</span><span class="s2">&quot;clicking&quot;</span><span class="p">,</span> <span class="n">move_the_box</span><span class="p">)</span>
</span><span class="linenos">33</span>
<span class="linenos">34</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
</div></div>
<p>The new function <code class="code docutils literal notranslate"><span class="pre">move_the_box</span></code> takes in two parameters, which are carefully named <code class="code docutils literal notranslate"><span class="pre">x</span></code> and <code class="code docutils literal notranslate"><span class="pre">y</span></code>.
The names matter here, because Designer will actually look at them and expect those names!
If you chose other names, then an error message would appear. But because we chose the right names,
when we click the mouse, Designer will call the <code class="code docutils literal notranslate"><span class="pre">move_the_box</span></code> function, passing in not only the current world
but also the X and Y of the mouse.
These X and Y values are then assigned to the boxes <code class="code docutils literal notranslate"><span class="pre">x</span></code> and <code class="code docutils literal notranslate"><span class="pre">y</span></code> fields, updating its position on the screen.</p>
<p>The only other thing to do is to bind the function to the event. Again, the name matters here: a typo would
prevent the event from being bound correctly, and the function would not be called.</p>
<a class="reference internal image-reference" href="../_images/world_3.gif"><img alt="A window with a black ROTATING rectangle in the middle. A mouse clicks on random positions and the rectangle's jumps to that spot." src="../_images/world_3.gif" style="width: 700px;" /></a>
</section>
<section id="a-touch-of-randomness">
<h2>A Touch of Randomness<a class="headerlink" href="#a-touch-of-randomness" title="Permalink to this heading">¶</a></h2>
<p>A game has an objective, and since our game doesn’t, it’s actually more of a visualization. Let’s change things up so
that we have a goal: to click on the spinning box as it jumps around the screen randomly. Let’s focus on making
the box jump around randomly first.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-4-RGF0YWNsYXNzZXM=" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-4-RGF0YWNsYXNzZXM=" name="RGF0YWNsYXNzZXM=" role="tab" tabindex="0">Dataclasses</button><button aria-controls="panel-4-RGljdGlvbmFyaWVz" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-4-RGljdGlvbmFyaWVz" name="RGljdGlvbmFyaWVz" role="tab" tabindex="-1">Dictionaries</button></div><div aria-labelledby="tab-4-RGF0YWNsYXNzZXM=" class="sphinx-tabs-panel group-tab" id="panel-4-RGF0YWNsYXNzZXM=" name="RGF0YWNsYXNzZXM=" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span> <span class="nn">designer</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos"> 2</span><span class="kn">import</span> <span class="nn">random</span>
<span class="linenos"> 3</span><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="nd">@dataclass</span>
<span class="linenos"> 6</span><span class="k">class</span> <span class="nc">World</span><span class="p">:</span>
<span class="linenos"> 7</span>    <span class="n">box</span><span class="p">:</span> <span class="n">DesignerObject</span>
<span class="linenos"> 8</span>
<span class="linenos"> 9</span><span class="k">def</span> <span class="nf">create_the_world</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">World</span><span class="p">:</span>
<span class="linenos">10</span>    <span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">11</span><span class="sd">    Create a new World with a 20x30 black rectangle inside.</span>
<span class="linenos">12</span><span class="sd">    &quot;&quot;&quot;</span>
<span class="linenos">13</span>    <span class="k">return</span> <span class="n">World</span><span class="p">(</span><span class="n">rectangle</span><span class="p">(</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="linenos">14</span>
<span class="linenos">15</span><span class="k">def</span> <span class="nf">spin_the_box</span><span class="p">(</span><span class="n">world</span><span class="p">:</span> <span class="n">World</span><span class="p">):</span>
<span class="linenos">16</span>    <span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">17</span><span class="sd">    Increase the world&#39;s box angle by one degree, spinning the box a small amount.</span>
<span class="linenos">18</span><span class="sd">    &quot;&quot;&quot;</span>
<span class="linenos">19</span>    <span class="n">world</span><span class="o">.</span><span class="n">box</span><span class="o">.</span><span class="n">angle</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="linenos">20</span>
<span class="hll"><span class="linenos">21</span><span class="k">def</span> <span class="nf">teleport_the_box</span><span class="p">(</span><span class="n">world</span><span class="p">:</span> <span class="n">World</span><span class="p">):</span>
</span><span class="hll"><span class="linenos">22</span>    <span class="sd">&quot;&quot;&quot;</span>
</span><span class="hll"><span class="linenos">23</span><span class="sd">    Move the box to a random position</span>
</span><span class="hll"><span class="linenos">24</span><span class="sd">    &quot;&quot;&quot;</span>
</span><span class="hll"><span class="linenos">25</span>    <span class="c1"># Have a 1 in 10 chance of jumping around</span>
</span><span class="hll"><span class="linenos">26</span>    <span class="k">if</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">27</span>        <span class="c1"># Set x/y to be random coordinates within the bounds of the</span>
</span><span class="hll"><span class="linenos">28</span>        <span class="c1"># window, given by get_width() and get_height()</span>
</span><span class="hll"><span class="linenos">29</span>        <span class="n">world</span><span class="o">.</span><span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">get_width</span><span class="p">())</span>
</span><span class="hll"><span class="linenos">30</span>        <span class="n">world</span><span class="o">.</span><span class="n">box</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">get_height</span><span class="p">())</span>
</span><span class="linenos">31</span>
<span class="linenos">32</span><span class="c1"># This tells Designer to call our `create_the_world` function</span>
<span class="linenos">33</span><span class="c1"># when the game starts, in order to setup our initial World.</span>
<span class="linenos">34</span><span class="n">when</span><span class="p">(</span><span class="s2">&quot;starting&quot;</span><span class="p">,</span> <span class="n">create_the_world</span><span class="p">)</span>
<span class="linenos">35</span><span class="c1"># Tell Designer to call our spin_the_box function every update.</span>
<span class="linenos">36</span><span class="c1"># There are usually 30 updates per second!</span>
<span class="linenos">37</span><span class="n">when</span><span class="p">(</span><span class="s2">&quot;updating&quot;</span><span class="p">,</span> <span class="n">spin_the_box</span><span class="p">)</span>
<span class="hll"><span class="linenos">38</span><span class="c1"># Tell Designer to call teleport_the_box every update.</span>
</span><span class="hll"><span class="linenos">39</span><span class="n">when</span><span class="p">(</span><span class="s2">&quot;updating&quot;</span><span class="p">,</span> <span class="n">teleport_the_box</span><span class="p">)</span>
</span><span class="linenos">40</span>
<span class="linenos">41</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-4-RGljdGlvbmFyaWVz" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-4-RGljdGlvbmFyaWVz" name="RGljdGlvbmFyaWVz" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span> <span class="nn">designer</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos"> 2</span><span class="kn">import</span> <span class="nn">random</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="c1"># Define the shape of the World</span>
<span class="linenos"> 5</span><span class="n">World</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;box&quot;</span><span class="p">:</span> <span class="n">DesignerObject</span> <span class="p">}</span>
<span class="linenos"> 6</span>
<span class="linenos"> 7</span><span class="c1"># Create a function that creates new worlds</span>
<span class="linenos"> 8</span><span class="k">def</span> <span class="nf">create_the_world</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">World</span><span class="p">:</span>
<span class="linenos"> 9</span>    <span class="c1"># Actually create an initial World instance</span>
<span class="linenos">10</span>    <span class="k">return</span> <span class="p">{</span>
<span class="linenos">11</span>        <span class="c1"># The world has a 20x30 black rectangle in it</span>
<span class="linenos">12</span>        <span class="s2">&quot;box&quot;</span><span class="p">:</span> <span class="n">rectangle</span><span class="p">(</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="linenos">13</span>    <span class="p">}</span>
<span class="linenos">14</span>
<span class="linenos">15</span><span class="c1"># Define a function that spins the box</span>
<span class="linenos">16</span><span class="k">def</span> <span class="nf">spin_the_box</span><span class="p">(</span><span class="n">world</span><span class="p">:</span> <span class="n">World</span><span class="p">):</span>
<span class="linenos">17</span>    <span class="c1"># Increase the boxes angle by one degree</span>
<span class="linenos">18</span>    <span class="n">world</span><span class="p">[</span><span class="s1">&#39;box&#39;</span><span class="p">][</span><span class="s1">&#39;angle&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="linenos">19</span>
<span class="hll"><span class="linenos">20</span><span class="c1"># Move the box to a random position</span>
</span><span class="hll"><span class="linenos">21</span><span class="k">def</span> <span class="nf">teleport_the_box</span><span class="p">(</span><span class="n">world</span><span class="p">:</span> <span class="n">World</span><span class="p">):</span>
</span><span class="hll"><span class="linenos">22</span>    <span class="c1"># Have a 1 in 10 chance of jumping around</span>
</span><span class="hll"><span class="linenos">23</span>    <span class="k">if</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">24</span>        <span class="c1"># Set x/y to be random coordinates within the bounds of the</span>
</span><span class="hll"><span class="linenos">25</span>        <span class="c1"># window, given by get_width() and get_height()</span>
</span><span class="hll"><span class="linenos">26</span>        <span class="n">world</span><span class="p">[</span><span class="s1">&#39;box&#39;</span><span class="p">][</span><span class="s1">&#39;x&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">get_width</span><span class="p">())</span>
</span><span class="hll"><span class="linenos">27</span>        <span class="n">world</span><span class="p">[</span><span class="s1">&#39;box&#39;</span><span class="p">][</span><span class="s1">&#39;y&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">get_height</span><span class="p">())</span>
</span><span class="linenos">28</span>
<span class="linenos">29</span><span class="c1"># This tells Designer to call our `create_the_world` function</span>
<span class="linenos">30</span><span class="c1"># when the game starts, in order to setup our initial World.</span>
<span class="linenos">31</span><span class="n">when</span><span class="p">(</span><span class="s2">&quot;starting&quot;</span><span class="p">,</span> <span class="n">create_the_world</span><span class="p">)</span>
<span class="linenos">32</span><span class="c1"># Tell Designer to call our spin_the_box function every update.</span>
<span class="linenos">33</span><span class="c1"># There are usually 30 updates per second!</span>
<span class="linenos">34</span><span class="n">when</span><span class="p">(</span><span class="s2">&quot;updating&quot;</span><span class="p">,</span> <span class="n">spin_the_box</span><span class="p">)</span>
<span class="hll"><span class="linenos">35</span><span class="c1"># Tell Designer to call teleport_the_box every update.</span>
</span><span class="hll"><span class="linenos">36</span><span class="n">when</span><span class="p">(</span><span class="s2">&quot;updating&quot;</span><span class="p">,</span> <span class="n">teleport_the_box</span><span class="p">)</span>
</span><span class="linenos">37</span>
<span class="linenos">38</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
</div></div>
<p>We’ve made a number of changes to our previous function. First, it’s no longer bound to the
<code class="code docutils literal notranslate"><span class="pre">'clicking'</span></code> event, but bound to the <code class="code docutils literal notranslate"><span class="pre">'updating'</span></code> event. Designer let’s you bind any number of functions
to the same event, with no limitation. You can also pass in multiple functions to the same event, if you want.</p>
<p>The <code class="code docutils literal notranslate"><span class="pre">move_the_box</span></code> function has become <code class="code docutils literal notranslate"><span class="pre">teleport_the_box</span></code>, and it no longer consumes an <code class="code docutils literal notranslate"><span class="pre">x</span></code> and a
<code class="code docutils literal notranslate"><span class="pre">y</span></code> (since those were only available in the <code class="code docutils literal notranslate"><span class="pre">clicking</span></code> event). Instead, we now set the boxes
<code class="code docutils literal notranslate"><span class="pre">x</span></code> and <code class="code docutils literal notranslate"><span class="pre">y</span></code> fields to be a randomly chosen value between 0 and either the width of the window
(from <a class="reference internal" href="../students/docs.html#get-width"><span class="std std-ref">get_width</span></a>) or the height of the window (from <a class="reference internal" href="../students/docs.html#get-height"><span class="std std-ref">get_height</span></a>).
The <code class="code docutils literal notranslate"><span class="pre">randint</span></code> function is available in the built-in <code class="code docutils literal notranslate"><span class="pre">random</span></code> module, and produces an
integer between the two values given as parameters.</p>
<p>If we teleported the box every step, the box would move very, very fast. To make things a little fairer, we only
teleport the box on 1 in 10 updates. To achieve this, we guard the update with an <code class="code docutils literal notranslate"><span class="pre">if</span></code> statement that checks if a
randomly chosen value between 0 and 9 (including 9 itself) is equal to 0. Since this will happen about 10% of the time,
so we can anticipate this happening only about 3 times a second (since Designer games update 30 times a second by default).
Notice that we are still calling the function every update; we just don’t execute the body of its <code class="code docutils literal notranslate"><span class="pre">if</span></code> statement every update!</p>
<a class="reference internal image-reference" href="../_images/world_4.gif"><img alt="A window with a black ROTATING rectangle. The rectangle is jumping around the screen quite fast." src="../_images/world_4.gif" style="width: 700px;" /></a>
</section>
<section id="keeping-score">
<h2>Keeping Score<a class="headerlink" href="#keeping-score" title="Permalink to this heading">¶</a></h2>
<p>We’re going to earn points by clicking on the rectangle, but how do we know if we were successful?
A simple solution is to keep score and show the user how many times they have clicked the rectangle.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-5-RGF0YWNsYXNzZXM=" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-5-RGF0YWNsYXNzZXM=" name="RGF0YWNsYXNzZXM=" role="tab" tabindex="0">Dataclasses</button><button aria-controls="panel-5-RGljdGlvbmFyaWVz" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-5-RGljdGlvbmFyaWVz" name="RGljdGlvbmFyaWVz" role="tab" tabindex="-1">Dictionaries</button></div><div aria-labelledby="tab-5-RGF0YWNsYXNzZXM=" class="sphinx-tabs-panel group-tab" id="panel-5-RGF0YWNsYXNzZXM=" name="RGF0YWNsYXNzZXM=" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span> <span class="nn">designer</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos"> 2</span><span class="kn">import</span> <span class="nn">random</span>
<span class="linenos"> 3</span><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>
<span class="linenos"> 4</span>
<span class="hll"><span class="linenos"> 5</span><span class="nd">@dataclass</span>
</span><span class="hll"><span class="linenos"> 6</span><span class="k">class</span> <span class="nc">World</span><span class="p">:</span>
</span><span class="hll"><span class="linenos"> 7</span>    <span class="n">box</span><span class="p">:</span> <span class="n">DesignerObject</span>
</span><span class="hll"><span class="linenos"> 8</span>    <span class="n">message</span><span class="p">:</span> <span class="n">DesignerObject</span>
</span><span class="hll"><span class="linenos"> 9</span>    <span class="n">score</span><span class="p">:</span> <span class="nb">int</span>
</span><span class="linenos">10</span>
<span class="linenos">11</span>
<span class="linenos">12</span><span class="k">def</span> <span class="nf">create_the_world</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">World</span><span class="p">:</span>
<span class="linenos">13</span>    <span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">14</span><span class="sd">    Create a new World with a 20x30 black rectangle inside, a message with default text,</span>
<span class="linenos">15</span><span class="sd">    and a score that&#39;s initially 0.</span>
<span class="linenos">16</span><span class="sd">    &quot;&quot;&quot;</span>
<span class="hll"><span class="linenos">17</span>    <span class="k">return</span> <span class="n">World</span><span class="p">(</span><span class="n">rectangle</span><span class="p">(</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span>
</span><span class="hll"><span class="linenos">18</span>                 <span class="n">text</span><span class="p">(</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="s2">&quot;Score:&quot;</span><span class="p">),</span>
</span><span class="hll"><span class="linenos">19</span>                 <span class="mi">0</span><span class="p">)</span>
</span><span class="linenos">20</span>
<span class="linenos">21</span><span class="k">def</span> <span class="nf">spin_the_box</span><span class="p">(</span><span class="n">world</span><span class="p">:</span> <span class="n">World</span><span class="p">):</span>
<span class="linenos">22</span>    <span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">23</span><span class="sd">    Increase the world&#39;s box angle by one degree, spinning the box a small amount.</span>
<span class="linenos">24</span><span class="sd">    &quot;&quot;&quot;</span>
<span class="linenos">25</span>    <span class="n">world</span><span class="o">.</span><span class="n">box</span><span class="o">.</span><span class="n">angle</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="linenos">26</span>
<span class="linenos">27</span><span class="k">def</span> <span class="nf">teleport_the_box</span><span class="p">(</span><span class="n">world</span><span class="p">:</span> <span class="n">World</span><span class="p">):</span>
<span class="linenos">28</span>    <span class="sd">&quot;&quot;&quot; Move the box to a random position &quot;&quot;&quot;</span>
<span class="linenos">29</span>    <span class="c1"># Have a 1 in 10 chance of jumping around</span>
<span class="linenos">30</span>    <span class="k">if</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<span class="linenos">31</span>        <span class="c1"># Set x/y to be random coordinates within the bounds of the</span>
<span class="linenos">32</span>        <span class="c1"># window, given by get_width() and get_height()</span>
<span class="linenos">33</span>        <span class="n">world</span><span class="o">.</span><span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">get_width</span><span class="p">())</span>
<span class="linenos">34</span>        <span class="n">world</span><span class="o">.</span><span class="n">box</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">get_height</span><span class="p">())</span>
<span class="linenos">35</span>
<span class="hll"><span class="linenos">36</span><span class="k">def</span> <span class="nf">track_the_score</span><span class="p">(</span><span class="n">world</span><span class="p">:</span> <span class="n">World</span><span class="p">):</span>
</span><span class="hll"><span class="linenos">37</span>    <span class="sd">&quot;&quot;&quot; Keep the message in sync with the current score &quot;&quot;&quot;</span>
</span><span class="hll"><span class="linenos">38</span>    <span class="c1"># Get the current score</span>
</span><span class="hll"><span class="linenos">39</span>    <span class="n">score</span> <span class="o">=</span> <span class="n">world</span><span class="o">.</span><span class="n">score</span>
</span><span class="hll"><span class="linenos">40</span>    <span class="c1"># Update the message&#39;s text based on the score</span>
</span><span class="hll"><span class="linenos">41</span>    <span class="n">world</span><span class="o">.</span><span class="n">message</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Score: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">score</span><span class="p">)</span>
</span><span class="linenos">42</span>
<span class="linenos">43</span><span class="c1"># This tells Designer to call our `create_the_world` function</span>
<span class="linenos">44</span><span class="c1"># when the game starts, in order to setup our initial World.</span>
<span class="linenos">45</span><span class="n">when</span><span class="p">(</span><span class="s2">&quot;starting&quot;</span><span class="p">,</span> <span class="n">create_the_world</span><span class="p">)</span>
<span class="linenos">46</span><span class="c1"># Tell Designer to call our spin_the_box function every update.</span>
<span class="linenos">47</span><span class="c1"># There are usually 30 updates per second!</span>
<span class="linenos">48</span><span class="n">when</span><span class="p">(</span><span class="s2">&quot;updating&quot;</span><span class="p">,</span> <span class="n">spin_the_box</span><span class="p">)</span>
<span class="linenos">49</span><span class="c1"># Tell Designer to call teleport_the_box every update.</span>
<span class="linenos">50</span><span class="n">when</span><span class="p">(</span><span class="s2">&quot;updating&quot;</span><span class="p">,</span> <span class="n">teleport_the_box</span><span class="p">)</span>
<span class="hll"><span class="linenos">51</span><span class="c1"># Tell Designer to call track_the_score every update.</span>
</span><span class="hll"><span class="linenos">52</span><span class="n">when</span><span class="p">(</span><span class="s2">&quot;updating&quot;</span><span class="p">,</span> <span class="n">track_the_score</span><span class="p">)</span>
</span><span class="linenos">53</span>
<span class="linenos">54</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-5-RGljdGlvbmFyaWVz" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-5-RGljdGlvbmFyaWVz" name="RGljdGlvbmFyaWVz" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span> <span class="nn">designer</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos"> 2</span><span class="kn">import</span> <span class="nn">random</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="c1"># Define the shape of the World</span>
<span class="linenos"> 5</span><span class="n">World</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 6</span>    <span class="s2">&quot;box&quot;</span><span class="p">:</span> <span class="n">DesignerObject</span><span class="p">,</span>
<span class="hll"><span class="linenos"> 7</span>    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="n">DesignerObject</span><span class="p">,</span>
</span><span class="hll"><span class="linenos"> 8</span>    <span class="s2">&quot;score&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
</span><span class="linenos"> 9</span><span class="p">}</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="c1"># Create a function that creates new worlds</span>
<span class="linenos">12</span><span class="k">def</span> <span class="nf">create_the_world</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">World</span><span class="p">:</span>
<span class="linenos">13</span>    <span class="c1"># Actually create an initial World instance</span>
<span class="linenos">14</span>    <span class="k">return</span> <span class="p">{</span>
<span class="linenos">15</span>        <span class="c1"># The world has a 20x30 black rectangle in it</span>
<span class="linenos">16</span>        <span class="s2">&quot;box&quot;</span><span class="p">:</span> <span class="n">rectangle</span><span class="p">(</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span>
<span class="hll"><span class="linenos">17</span>        <span class="c1"># The message to show the user</span>
</span><span class="hll"><span class="linenos">18</span>        <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="n">text</span><span class="p">(</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="s2">&quot;Score:&quot;</span><span class="p">),</span>
</span><span class="hll"><span class="linenos">19</span>        <span class="c1"># The player&#39;s current score</span>
</span><span class="hll"><span class="linenos">20</span>        <span class="s2">&quot;score&quot;</span><span class="p">:</span> <span class="mi">0</span>
</span><span class="linenos">21</span>    <span class="p">}</span>
<span class="linenos">22</span>
<span class="linenos">23</span><span class="c1"># Define a function that spins the box</span>
<span class="linenos">24</span><span class="k">def</span> <span class="nf">spin_the_box</span><span class="p">(</span><span class="n">world</span><span class="p">:</span> <span class="n">World</span><span class="p">):</span>
<span class="linenos">25</span>    <span class="c1"># Increase the boxes angle by one degree</span>
<span class="linenos">26</span>    <span class="n">world</span><span class="p">[</span><span class="s1">&#39;box&#39;</span><span class="p">][</span><span class="s1">&#39;angle&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="linenos">27</span>
<span class="linenos">28</span><span class="c1"># Move the box to a random position</span>
<span class="linenos">29</span><span class="k">def</span> <span class="nf">teleport_the_box</span><span class="p">(</span><span class="n">world</span><span class="p">:</span> <span class="n">World</span><span class="p">):</span>
<span class="linenos">30</span>    <span class="c1"># Have a 1 in 10 chance of jumping around</span>
<span class="linenos">31</span>    <span class="k">if</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<span class="linenos">32</span>        <span class="c1"># Set x/y to be random coordinates within the bounds of the</span>
<span class="linenos">33</span>        <span class="c1"># window, given by get_width() and get_height()</span>
<span class="linenos">34</span>        <span class="n">world</span><span class="p">[</span><span class="s1">&#39;box&#39;</span><span class="p">][</span><span class="s1">&#39;x&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">get_width</span><span class="p">())</span>
<span class="linenos">35</span>        <span class="n">world</span><span class="p">[</span><span class="s1">&#39;box&#39;</span><span class="p">][</span><span class="s1">&#39;y&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">get_height</span><span class="p">())</span>
<span class="linenos">36</span>
<span class="hll"><span class="linenos">37</span><span class="c1"># Keep the message in sync with the current score</span>
</span><span class="hll"><span class="linenos">38</span><span class="k">def</span> <span class="nf">track_the_score</span><span class="p">(</span><span class="n">world</span><span class="p">:</span> <span class="n">World</span><span class="p">):</span>
</span><span class="hll"><span class="linenos">39</span>    <span class="c1"># Get the current score</span>
</span><span class="hll"><span class="linenos">40</span>    <span class="n">score</span> <span class="o">=</span> <span class="n">world</span><span class="p">[</span><span class="s1">&#39;score&#39;</span><span class="p">]</span>
</span><span class="hll"><span class="linenos">41</span>    <span class="c1"># Update the message&#39;s text based on the score</span>
</span><span class="hll"><span class="linenos">42</span>    <span class="n">world</span><span class="p">[</span><span class="s1">&#39;message&#39;</span><span class="p">][</span><span class="s1">&#39;text&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Score: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">score</span><span class="p">)</span>
</span><span class="linenos">43</span>
<span class="linenos">44</span><span class="c1"># This tells Designer to call our `create_the_world` function</span>
<span class="linenos">45</span><span class="c1"># when the game starts, in order to setup our initial World.</span>
<span class="linenos">46</span><span class="n">when</span><span class="p">(</span><span class="s2">&quot;starting&quot;</span><span class="p">,</span> <span class="n">create_the_world</span><span class="p">)</span>
<span class="linenos">47</span><span class="c1"># Tell Designer to call our spin_the_box function every update.</span>
<span class="linenos">48</span><span class="c1"># There are usually 30 updates per second!</span>
<span class="linenos">49</span><span class="n">when</span><span class="p">(</span><span class="s2">&quot;updating&quot;</span><span class="p">,</span> <span class="n">spin_the_box</span><span class="p">)</span>
<span class="linenos">50</span><span class="c1"># Tell Designer to call teleport_the_box every update.</span>
<span class="linenos">51</span><span class="n">when</span><span class="p">(</span><span class="s2">&quot;updating&quot;</span><span class="p">,</span> <span class="n">teleport_the_box</span><span class="p">)</span>
<span class="hll"><span class="linenos">52</span><span class="c1"># Tell Designer to call track_the_score every update.</span>
</span><span class="hll"><span class="linenos">53</span><span class="n">when</span><span class="p">(</span><span class="s2">&quot;updating&quot;</span><span class="p">,</span> <span class="n">track_the_score</span><span class="p">)</span>
</span><span class="linenos">54</span>
<span class="linenos">55</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
</div></div>
<p>This isn’t a terribly exciting update in terms of new functionality, since all that appears on the screen is the
text <code class="code docutils literal notranslate"><span class="pre">Score:</span> <span class="pre">0</span></code>. Without a way to increase the score, we don’t see very much. However, this demonstrates how we
can have state besides DesignerObjects (the <code class="code docutils literal notranslate"><span class="pre">&quot;score&quot;</span></code>, an integer) and also display text on the screen. In order to keep
the text in sync with the score, we’ve defined a function named <code class="code docutils literal notranslate"><span class="pre">track_the_score</span></code> that gets called every update. Notice
how we extract data from the World (specifically, the current <code class="code docutils literal notranslate"><span class="pre">&quot;score&quot;</span></code>) and use that to update the field of the text
object we created before. In order to prefix the score with the text <code class="code docutils literal notranslate"><span class="pre">&quot;Score:&quot;</span></code>, we had to convert the integer score to
a string representation.</p>
<a class="reference internal image-reference" href="../_images/world_5.gif"><img alt="A window with a teleporting, rotating, black rectangle. The words &quot;Score: 0&quot; are in the middle of the window." src="../_images/world_5.gif" style="width: 700px;" /></a>
</section>
<section id="responding-to-clicks">
<h2>Responding to Clicks<a class="headerlink" href="#responding-to-clicks" title="Permalink to this heading">¶</a></h2>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-6-RGF0YWNsYXNzZXM=" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-6-RGF0YWNsYXNzZXM=" name="RGF0YWNsYXNzZXM=" role="tab" tabindex="0">Dataclasses</button><button aria-controls="panel-6-RGljdGlvbmFyaWVz" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-6-RGljdGlvbmFyaWVz" name="RGljdGlvbmFyaWVz" role="tab" tabindex="-1">Dictionaries</button></div><div aria-labelledby="tab-6-RGF0YWNsYXNzZXM=" class="sphinx-tabs-panel group-tab" id="panel-6-RGF0YWNsYXNzZXM=" name="RGF0YWNsYXNzZXM=" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span> <span class="nn">designer</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos"> 2</span><span class="kn">import</span> <span class="nn">random</span>
<span class="linenos"> 3</span><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="nd">@dataclass</span>
<span class="linenos"> 6</span><span class="k">class</span> <span class="nc">World</span><span class="p">:</span>
<span class="linenos"> 7</span>    <span class="n">box</span><span class="p">:</span> <span class="n">DesignerObject</span>
<span class="linenos"> 8</span>    <span class="n">message</span><span class="p">:</span> <span class="n">DesignerObject</span>
<span class="linenos"> 9</span>    <span class="n">score</span><span class="p">:</span> <span class="nb">int</span>
<span class="linenos">10</span>
<span class="linenos">11</span>
<span class="linenos">12</span><span class="k">def</span> <span class="nf">create_the_world</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">World</span><span class="p">:</span>
<span class="linenos">13</span>    <span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">14</span><span class="sd">    Create a new World with a 20x30 black rectangle inside, a message with default text,</span>
<span class="linenos">15</span><span class="sd">    and a score that&#39;s initially 0.</span>
<span class="linenos">16</span><span class="sd">    &quot;&quot;&quot;</span>
<span class="linenos">17</span>    <span class="k">return</span> <span class="n">World</span><span class="p">(</span><span class="n">rectangle</span><span class="p">(</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span>
<span class="linenos">18</span>                 <span class="n">text</span><span class="p">(</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="s2">&quot;Score:&quot;</span><span class="p">),</span>
<span class="linenos">19</span>                 <span class="mi">0</span><span class="p">)</span>
<span class="linenos">20</span>
<span class="linenos">21</span><span class="k">def</span> <span class="nf">spin_the_box</span><span class="p">(</span><span class="n">world</span><span class="p">:</span> <span class="n">World</span><span class="p">):</span>
<span class="linenos">22</span>    <span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">23</span><span class="sd">    Increase the world&#39;s box angle by one degree, spinning the box a small amount.</span>
<span class="linenos">24</span><span class="sd">    &quot;&quot;&quot;</span>
<span class="linenos">25</span>    <span class="n">world</span><span class="o">.</span><span class="n">box</span><span class="o">.</span><span class="n">angle</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="linenos">26</span>
<span class="linenos">27</span><span class="k">def</span> <span class="nf">teleport_the_box</span><span class="p">(</span><span class="n">world</span><span class="p">:</span> <span class="n">World</span><span class="p">):</span>
<span class="linenos">28</span>    <span class="sd">&quot;&quot;&quot; Move the box to a random position &quot;&quot;&quot;</span>
<span class="linenos">29</span>    <span class="c1"># Have a 1 in 10 chance of jumping around</span>
<span class="linenos">30</span>    <span class="k">if</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<span class="linenos">31</span>        <span class="c1"># Set x/y to be random coordinates within the bounds of the</span>
<span class="linenos">32</span>        <span class="c1"># window, given by get_width() and get_height()</span>
<span class="linenos">33</span>        <span class="n">world</span><span class="o">.</span><span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">get_width</span><span class="p">())</span>
<span class="linenos">34</span>        <span class="n">world</span><span class="o">.</span><span class="n">box</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">get_height</span><span class="p">())</span>
<span class="linenos">35</span>
<span class="linenos">36</span><span class="k">def</span> <span class="nf">track_the_score</span><span class="p">(</span><span class="n">world</span><span class="p">:</span> <span class="n">World</span><span class="p">):</span>
<span class="linenos">37</span>    <span class="sd">&quot;&quot;&quot; Keep the message in sync with the current score &quot;&quot;&quot;</span>
<span class="linenos">38</span>    <span class="c1"># Get the current score</span>
<span class="linenos">39</span>    <span class="n">score</span> <span class="o">=</span> <span class="n">world</span><span class="o">.</span><span class="n">score</span>
<span class="linenos">40</span>    <span class="c1"># Update the message&#39;s text based on the score</span>
<span class="linenos">41</span>    <span class="n">world</span><span class="o">.</span><span class="n">message</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Score: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">score</span><span class="p">)</span>
<span class="linenos">42</span>
<span class="linenos">43</span>
<span class="hll"><span class="linenos">44</span><span class="k">def</span> <span class="nf">check_box_clicked</span><span class="p">(</span><span class="n">world</span><span class="p">:</span> <span class="n">World</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
</span><span class="hll"><span class="linenos">45</span>    <span class="sd">&quot;&quot;&quot; Check if the box has been clicked and increase the score &quot;&quot;&quot;</span>
</span><span class="hll"><span class="linenos">46</span>    <span class="c1"># Use the Designer function colliding to check if two objects or</span>
</span><span class="hll"><span class="linenos">47</span>    <span class="c1"># an object and a point are colliding.</span>
</span><span class="hll"><span class="linenos">48</span>    <span class="k">if</span> <span class="n">colliding</span><span class="p">(</span><span class="n">world</span><span class="o">.</span><span class="n">box</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
</span><span class="hll"><span class="linenos">49</span>        <span class="c1"># Update the score on a successful click</span>
</span><span class="hll"><span class="linenos">50</span>        <span class="n">world</span><span class="o">.</span><span class="n">score</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span class="linenos">51</span>
<span class="linenos">52</span>
<span class="linenos">53</span><span class="c1"># This tells Designer to call our `create_the_world` function</span>
<span class="linenos">54</span><span class="c1"># when the game starts, in order to setup our initial World.</span>
<span class="linenos">55</span><span class="n">when</span><span class="p">(</span><span class="s2">&quot;starting&quot;</span><span class="p">,</span> <span class="n">create_the_world</span><span class="p">)</span>
<span class="linenos">56</span><span class="c1"># Tell Designer to call our spin_the_box function every update.</span>
<span class="linenos">57</span><span class="c1"># There are usually 30 updates per second!</span>
<span class="linenos">58</span><span class="n">when</span><span class="p">(</span><span class="s2">&quot;updating&quot;</span><span class="p">,</span> <span class="n">spin_the_box</span><span class="p">)</span>
<span class="linenos">59</span><span class="c1"># Tell Designer to call teleport_the_box every update.</span>
<span class="linenos">60</span><span class="n">when</span><span class="p">(</span><span class="s2">&quot;updating&quot;</span><span class="p">,</span> <span class="n">teleport_the_box</span><span class="p">)</span>
<span class="linenos">61</span><span class="c1"># Tell Designer to call track_the_score every update.</span>
<span class="linenos">62</span><span class="n">when</span><span class="p">(</span><span class="s2">&quot;updating&quot;</span><span class="p">,</span> <span class="n">track_the_score</span><span class="p">)</span>
<span class="hll"><span class="linenos">63</span><span class="c1"># Tell Designer to call check_box_clicked when the mouse is clicked</span>
</span><span class="hll"><span class="linenos">64</span><span class="n">when</span><span class="p">(</span><span class="s1">&#39;clicking&#39;</span><span class="p">,</span> <span class="n">check_box_clicked</span><span class="p">)</span>
</span><span class="linenos">65</span>
<span class="linenos">66</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-6-RGljdGlvbmFyaWVz" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-6-RGljdGlvbmFyaWVz" name="RGljdGlvbmFyaWVz" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span> <span class="nn">designer</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos"> 2</span><span class="kn">import</span> <span class="nn">random</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="c1"># Define the shape of the World</span>
<span class="linenos"> 5</span><span class="n">World</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 6</span>    <span class="s2">&quot;box&quot;</span><span class="p">:</span> <span class="n">DesignerObject</span><span class="p">,</span>
<span class="linenos"> 7</span>    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="n">DesignerObject</span><span class="p">,</span>
<span class="linenos"> 8</span>    <span class="s2">&quot;score&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
<span class="linenos"> 9</span><span class="p">}</span>
<span class="linenos">10</span>
<span class="linenos">11</span>
<span class="linenos">12</span><span class="c1"># Create a function that creates new worlds</span>
<span class="linenos">13</span><span class="k">def</span> <span class="nf">create_the_world</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">World</span><span class="p">:</span>
<span class="linenos">14</span>    <span class="c1"># Actually create an initial World instance</span>
<span class="linenos">15</span>    <span class="k">return</span> <span class="p">{</span>
<span class="linenos">16</span>        <span class="c1"># The world has a 20x30 black rectangle in it</span>
<span class="linenos">17</span>        <span class="s2">&quot;box&quot;</span><span class="p">:</span> <span class="n">rectangle</span><span class="p">(</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span>
<span class="linenos">18</span>        <span class="c1"># The message to show the user</span>
<span class="linenos">19</span>        <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="n">text</span><span class="p">(</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="s2">&quot;Score:&quot;</span><span class="p">),</span>
<span class="linenos">20</span>        <span class="c1"># The player&#39;s current score</span>
<span class="linenos">21</span>        <span class="s2">&quot;score&quot;</span><span class="p">:</span> <span class="mi">0</span>
<span class="linenos">22</span>    <span class="p">}</span>
<span class="linenos">23</span>
<span class="linenos">24</span>
<span class="linenos">25</span><span class="c1"># Define a function that spins the box</span>
<span class="linenos">26</span><span class="k">def</span> <span class="nf">spin_the_box</span><span class="p">(</span><span class="n">world</span><span class="p">:</span> <span class="n">World</span><span class="p">):</span>
<span class="linenos">27</span>    <span class="c1"># Increase the boxes angle by one degree</span>
<span class="linenos">28</span>    <span class="n">world</span><span class="p">[</span><span class="s1">&#39;box&#39;</span><span class="p">][</span><span class="s1">&#39;angle&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="linenos">29</span>
<span class="linenos">30</span>
<span class="linenos">31</span><span class="c1"># Move the box to a random position</span>
<span class="linenos">32</span><span class="k">def</span> <span class="nf">teleport_the_box</span><span class="p">(</span><span class="n">world</span><span class="p">:</span> <span class="n">World</span><span class="p">):</span>
<span class="linenos">33</span>    <span class="c1"># Have a 1 in 10 chance of jumping around</span>
<span class="linenos">34</span>    <span class="k">if</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<span class="linenos">35</span>        <span class="c1"># Set x/y to be random coordinates within the bounds of the</span>
<span class="linenos">36</span>        <span class="c1"># window, given by get_width() and get_height()</span>
<span class="linenos">37</span>        <span class="n">world</span><span class="p">[</span><span class="s1">&#39;box&#39;</span><span class="p">][</span><span class="s1">&#39;x&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">get_width</span><span class="p">())</span>
<span class="linenos">38</span>        <span class="n">world</span><span class="p">[</span><span class="s1">&#39;box&#39;</span><span class="p">][</span><span class="s1">&#39;y&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">get_height</span><span class="p">())</span>
<span class="linenos">39</span>
<span class="linenos">40</span>
<span class="linenos">41</span><span class="c1"># Keep the message in sync with the current score</span>
<span class="linenos">42</span><span class="k">def</span> <span class="nf">track_the_score</span><span class="p">(</span><span class="n">world</span><span class="p">:</span> <span class="n">World</span><span class="p">):</span>
<span class="linenos">43</span>    <span class="c1"># Get the current score</span>
<span class="hll"><span class="linenos">44</span>    <span class="n">score</span> <span class="o">=</span> <span class="n">world</span><span class="p">[</span><span class="s1">&#39;score&#39;</span><span class="p">]</span>
</span><span class="hll"><span class="linenos">45</span>    <span class="c1"># Update the message&#39;s text based on the score</span>
</span><span class="hll"><span class="linenos">46</span>    <span class="n">world</span><span class="p">[</span><span class="s1">&#39;message&#39;</span><span class="p">][</span><span class="s1">&#39;text&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Score: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">score</span><span class="p">)</span>
</span><span class="hll"><span class="linenos">47</span>
</span><span class="hll"><span class="linenos">48</span>
</span><span class="hll"><span class="linenos">49</span><span class="c1"># Check if the box has been clicked and increase the score</span>
</span><span class="hll"><span class="linenos">50</span><span class="k">def</span> <span class="nf">check_box_clicked</span><span class="p">(</span><span class="n">world</span><span class="p">:</span> <span class="n">World</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
</span><span class="linenos">51</span>    <span class="c1"># Use the Designer function colliding to check if two objects or</span>
<span class="linenos">52</span>    <span class="c1"># an object and a point are colliding.</span>
<span class="linenos">53</span>    <span class="k">if</span> <span class="n">colliding</span><span class="p">(</span><span class="n">world</span><span class="p">[</span><span class="s1">&#39;box&#39;</span><span class="p">],</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
<span class="linenos">54</span>        <span class="c1"># Update the score on a successful click</span>
<span class="linenos">55</span>        <span class="n">world</span><span class="p">[</span><span class="s1">&#39;score&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="linenos">56</span>
<span class="linenos">57</span>
<span class="linenos">58</span><span class="c1"># This tells Designer to call our `create_the_world` function</span>
<span class="linenos">59</span><span class="c1"># when the game starts, in order to setup our initial World.</span>
<span class="linenos">60</span><span class="n">when</span><span class="p">(</span><span class="s2">&quot;starting&quot;</span><span class="p">,</span> <span class="n">create_the_world</span><span class="p">)</span>
<span class="linenos">61</span><span class="c1"># Tell Designer to call our spin_the_box function every update.</span>
<span class="hll"><span class="linenos">62</span><span class="c1"># There are usually 30 updates per second!</span>
</span><span class="hll"><span class="linenos">63</span><span class="n">when</span><span class="p">(</span><span class="s2">&quot;updating&quot;</span><span class="p">,</span> <span class="n">spin_the_box</span><span class="p">)</span>
</span><span class="linenos">64</span><span class="c1"># Tell Designer to call teleport_the_box every update.</span>
<span class="linenos">65</span><span class="n">when</span><span class="p">(</span><span class="s2">&quot;updating&quot;</span><span class="p">,</span> <span class="n">teleport_the_box</span><span class="p">)</span>
<span class="linenos">66</span><span class="c1"># Tell Designer to call track_the_score every update.</span>
<span class="linenos">67</span><span class="n">when</span><span class="p">(</span><span class="s2">&quot;updating&quot;</span><span class="p">,</span> <span class="n">track_the_score</span><span class="p">)</span>
<span class="linenos">68</span><span class="c1"># Tell Designer to call check_box_clicked when the mouse is clicked</span>
<span class="linenos">69</span><span class="n">when</span><span class="p">(</span><span class="s1">&#39;clicking&#39;</span><span class="p">,</span> <span class="n">check_box_clicked</span><span class="p">)</span>
<span class="linenos">70</span>
<span class="linenos">71</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
</div></div>
<p>We haven’t added much new code - mostly just a new event handler named <code class="code docutils literal notranslate"><span class="pre">check_box_clicked</span></code>. This function
is bound to the <code class="code docutils literal notranslate"><span class="pre">&quot;clicking&quot;</span></code> event that we saw before. However, the function uses a new feature we haven’t
yet seen: the handy <a class="reference internal" href="../students/docs.html#colliding"><span class="std std-ref">colliding</span></a> function. This function can take in either two objects, or an object
and an x/y pair. The function returns True if they overlap, or otherwise False if they do not. We use the function
here to detect if the box was clicked.</p>
<p>Actually clicking the box is a little tricky! For testing purposes, you might want to disable the teleportation or
decrease the probability that it will teleport on a given update. Regardless, you can see from the video below that
clicking on the rectangle gives you a point.</p>
<a class="reference internal image-reference" href="../_images/world_6.gif"><img alt="A window with a teleporting, rotating, black rectangle. The mouse clicks on the rectangle a few times, increasing the score displayed each time." src="../_images/world_6.gif" style="width: 700px;" /></a>
</section>
<section id="ending-the-game">
<h2>Ending the Game<a class="headerlink" href="#ending-the-game" title="Permalink to this heading">¶</a></h2>
<p>Our game is almost complete. All that we have to do now is establish some criteria for when the game is over, and
then stop the game. For that, we’ll take advantage of a custom event check and the Designer <code class="code docutils literal notranslate"><span class="pre">pause</span></code> function.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-7-RGF0YWNsYXNzZXM=" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-7-RGF0YWNsYXNzZXM=" name="RGF0YWNsYXNzZXM=" role="tab" tabindex="0">Dataclasses</button><button aria-controls="panel-7-RGljdGlvbmFyaWVz" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-7-RGljdGlvbmFyaWVz" name="RGljdGlvbmFyaWVz" role="tab" tabindex="-1">Dictionaries</button></div><div aria-labelledby="tab-7-RGF0YWNsYXNzZXM=" class="sphinx-tabs-panel group-tab" id="panel-7-RGF0YWNsYXNzZXM=" name="RGF0YWNsYXNzZXM=" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span> <span class="nn">designer</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos"> 2</span><span class="kn">import</span> <span class="nn">random</span>
<span class="linenos"> 3</span><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="nd">@dataclass</span>
<span class="linenos"> 6</span><span class="k">class</span> <span class="nc">World</span><span class="p">:</span>
<span class="linenos"> 7</span>    <span class="n">box</span><span class="p">:</span> <span class="n">DesignerObject</span>
<span class="linenos"> 8</span>    <span class="n">message</span><span class="p">:</span> <span class="n">DesignerObject</span>
<span class="linenos"> 9</span>    <span class="n">score</span><span class="p">:</span> <span class="nb">int</span>
<span class="hll"><span class="linenos">10</span>    <span class="n">timer</span><span class="p">:</span> <span class="nb">int</span>
</span><span class="linenos">11</span>
<span class="hll"><span class="linenos">12</span><span class="c1"># The score you need to win the game</span>
</span><span class="hll"><span class="linenos">13</span><span class="n">WIN_THRESHOLD</span> <span class="o">=</span> <span class="mi">5</span>
</span><span class="hll"><span class="linenos">14</span><span class="c1"># The number of updates before the game should end</span>
</span><span class="hll"><span class="linenos">15</span><span class="c1">#    30 updates per second, for 10 seconds</span>
</span><span class="hll"><span class="linenos">16</span><span class="n">LENGTH_OF_GAME</span> <span class="o">=</span> <span class="mi">30</span> <span class="o">*</span> <span class="mi">10</span>
</span><span class="linenos">17</span>
<span class="linenos">18</span><span class="k">def</span> <span class="nf">create_the_world</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">World</span><span class="p">:</span>
<span class="linenos">19</span>    <span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">20</span><span class="sd">    Create a new World with a 20x30 black rectangle inside, a message with default text,</span>
<span class="linenos">21</span><span class="sd">    and a score that&#39;s initially 0.</span>
<span class="linenos">22</span><span class="sd">    &quot;&quot;&quot;</span>
<span class="linenos">23</span>    <span class="k">return</span> <span class="n">World</span><span class="p">(</span><span class="n">rectangle</span><span class="p">(</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span>
<span class="linenos">24</span>                 <span class="n">text</span><span class="p">(</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="s2">&quot;Score:&quot;</span><span class="p">),</span>
<span class="hll"><span class="linenos">25</span>                 <span class="mi">0</span><span class="p">,</span>
</span><span class="hll"><span class="linenos">26</span>                 <span class="mi">0</span><span class="p">)</span>
</span><span class="linenos">27</span>
<span class="linenos">28</span><span class="k">def</span> <span class="nf">spin_the_box</span><span class="p">(</span><span class="n">world</span><span class="p">:</span> <span class="n">World</span><span class="p">):</span>
<span class="linenos">29</span>    <span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">30</span><span class="sd">    Increase the world&#39;s box angle by one degree, spinning the box a small amount.</span>
<span class="linenos">31</span><span class="sd">    &quot;&quot;&quot;</span>
<span class="linenos">32</span>    <span class="n">world</span><span class="o">.</span><span class="n">box</span><span class="o">.</span><span class="n">angle</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="linenos">33</span>
<span class="linenos">34</span><span class="k">def</span> <span class="nf">teleport_the_box</span><span class="p">(</span><span class="n">world</span><span class="p">:</span> <span class="n">World</span><span class="p">):</span>
<span class="linenos">35</span>    <span class="sd">&quot;&quot;&quot; Move the box to a random position &quot;&quot;&quot;</span>
<span class="linenos">36</span>    <span class="c1"># Have a 1 in 10 chance of jumping around</span>
<span class="linenos">37</span>    <span class="k">if</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<span class="linenos">38</span>        <span class="c1"># Set x/y to be random coordinates within the bounds of the</span>
<span class="linenos">39</span>        <span class="c1"># window, given by get_width() and get_height()</span>
<span class="linenos">40</span>        <span class="n">world</span><span class="o">.</span><span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">get_width</span><span class="p">())</span>
<span class="linenos">41</span>        <span class="n">world</span><span class="o">.</span><span class="n">box</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">get_height</span><span class="p">())</span>
<span class="linenos">42</span>
<span class="linenos">43</span><span class="k">def</span> <span class="nf">track_the_score</span><span class="p">(</span><span class="n">world</span><span class="p">:</span> <span class="n">World</span><span class="p">):</span>
<span class="linenos">44</span>    <span class="sd">&quot;&quot;&quot; Keep the message in sync with the current score &quot;&quot;&quot;</span>
<span class="linenos">45</span>    <span class="c1"># Get the current score</span>
<span class="linenos">46</span>    <span class="n">score</span> <span class="o">=</span> <span class="n">world</span><span class="o">.</span><span class="n">score</span>
<span class="linenos">47</span>    <span class="c1"># Update the message&#39;s text based on the score</span>
<span class="linenos">48</span>    <span class="n">world</span><span class="o">.</span><span class="n">message</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Score: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">score</span><span class="p">)</span>
<span class="linenos">49</span>
<span class="linenos">50</span><span class="k">def</span> <span class="nf">check_box_clicked</span><span class="p">(</span><span class="n">world</span><span class="p">:</span> <span class="n">World</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="linenos">51</span>    <span class="sd">&quot;&quot;&quot; Check if the box has been clicked and increase the score &quot;&quot;&quot;</span>
<span class="linenos">52</span>    <span class="c1"># Use the Designer function colliding to check if two objects or</span>
<span class="linenos">53</span>    <span class="c1"># an object and a point are colliding.</span>
<span class="linenos">54</span>    <span class="k">if</span> <span class="n">colliding</span><span class="p">(</span><span class="n">world</span><span class="o">.</span><span class="n">box</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
<span class="linenos">55</span>        <span class="c1"># Update the score on a successful click</span>
<span class="linenos">56</span>        <span class="n">world</span><span class="o">.</span><span class="n">score</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="linenos">57</span>
<span class="hll"><span class="linenos">58</span><span class="k">def</span> <span class="nf">advance_the_timer</span><span class="p">(</span><span class="n">world</span><span class="p">:</span> <span class="n">World</span><span class="p">):</span>
</span><span class="hll"><span class="linenos">59</span>    <span class="sd">&quot;&quot;&quot; Advance the timer by one step &quot;&quot;&quot;</span>
</span><span class="hll"><span class="linenos">60</span>    <span class="n">world</span><span class="o">.</span><span class="n">timer</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span class="hll"><span class="linenos">61</span>
</span><span class="hll"><span class="linenos">62</span><span class="k">def</span> <span class="nf">the_timer_runs_out</span><span class="p">(</span><span class="n">world</span><span class="p">:</span> <span class="n">World</span><span class="p">):</span>
</span><span class="hll"><span class="linenos">63</span>    <span class="sd">&quot;&quot;&quot; Check if the score is above the threshold &quot;&quot;&quot;</span>
</span><span class="hll"><span class="linenos">64</span>    <span class="k">return</span> <span class="n">world</span><span class="o">.</span><span class="n">timer</span> <span class="o">&gt;=</span> <span class="n">LENGTH_OF_GAME</span>
</span><span class="hll"><span class="linenos">65</span>
</span><span class="hll"><span class="linenos">66</span><span class="k">def</span> <span class="nf">flash_game_over</span><span class="p">(</span><span class="n">world</span><span class="p">:</span> <span class="n">World</span><span class="p">):</span>
</span><span class="hll"><span class="linenos">67</span>    <span class="sd">&quot;&quot;&quot; Flash a game over message &quot;&quot;&quot;</span>
</span><span class="hll"><span class="linenos">68</span>    <span class="k">if</span> <span class="n">world</span><span class="o">.</span><span class="n">score</span> <span class="o">&gt;=</span> <span class="n">WIN_THRESHOLD</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">69</span>        <span class="n">world</span><span class="o">.</span><span class="n">message</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Game over, you won!&quot;</span>
</span><span class="hll"><span class="linenos">70</span>    <span class="k">else</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">71</span>        <span class="n">world</span><span class="o">.</span><span class="n">message</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Game over, you lose!&quot;</span>
</span><span class="linenos">72</span>
<span class="linenos">73</span><span class="c1"># This tells Designer to call our `create_the_world` function</span>
<span class="linenos">74</span><span class="c1"># when the game starts, in order to setup our initial World.</span>
<span class="linenos">75</span><span class="n">when</span><span class="p">(</span><span class="s2">&quot;starting&quot;</span><span class="p">,</span> <span class="n">create_the_world</span><span class="p">)</span>
<span class="linenos">76</span><span class="c1"># Tell Designer to call our spin_the_box function every update.</span>
<span class="linenos">77</span><span class="c1"># There are usually 30 updates per second!</span>
<span class="linenos">78</span><span class="n">when</span><span class="p">(</span><span class="s2">&quot;updating&quot;</span><span class="p">,</span> <span class="n">spin_the_box</span><span class="p">)</span>
<span class="linenos">79</span><span class="c1"># Tell Designer to call teleport_the_box every update.</span>
<span class="linenos">80</span><span class="n">when</span><span class="p">(</span><span class="s2">&quot;updating&quot;</span><span class="p">,</span> <span class="n">teleport_the_box</span><span class="p">)</span>
<span class="linenos">81</span><span class="c1"># Tell Designer to call track_the_score every update.</span>
<span class="linenos">82</span><span class="n">when</span><span class="p">(</span><span class="s2">&quot;updating&quot;</span><span class="p">,</span> <span class="n">track_the_score</span><span class="p">)</span>
<span class="linenos">83</span><span class="c1"># Tell Designer to call check_box_clicked when the mouse is clicked</span>
<span class="linenos">84</span><span class="n">when</span><span class="p">(</span><span class="s1">&#39;clicking&#39;</span><span class="p">,</span> <span class="n">check_box_clicked</span><span class="p">)</span>
<span class="hll"><span class="linenos">85</span><span class="c1"># Tell Designer to update the timer</span>
</span><span class="hll"><span class="linenos">86</span><span class="n">when</span><span class="p">(</span><span class="s1">&#39;updating&#39;</span><span class="p">,</span> <span class="n">advance_the_timer</span><span class="p">)</span>
</span><span class="hll"><span class="linenos">87</span><span class="c1"># Tell Designer to check if the game is over, then flash our message</span>
</span><span class="hll"><span class="linenos">88</span><span class="c1"># and pause on that screen</span>
</span><span class="hll"><span class="linenos">89</span><span class="n">when</span><span class="p">(</span><span class="n">the_timer_runs_out</span><span class="p">,</span> <span class="n">flash_game_over</span><span class="p">,</span> <span class="n">pause</span><span class="p">)</span>
</span><span class="linenos">90</span>
<span class="linenos">91</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-7-RGljdGlvbmFyaWVz" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-7-RGljdGlvbmFyaWVz" name="RGljdGlvbmFyaWVz" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span> <span class="nn">designer</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos"> 2</span><span class="kn">import</span> <span class="nn">random</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="c1"># Define the shape of the World</span>
<span class="linenos"> 5</span><span class="n">World</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 6</span>    <span class="s2">&quot;box&quot;</span><span class="p">:</span> <span class="n">DesignerObject</span><span class="p">,</span>
<span class="linenos"> 7</span>    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="n">DesignerObject</span><span class="p">,</span>
<span class="hll"><span class="linenos"> 8</span>    <span class="s2">&quot;score&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
</span><span class="hll"><span class="linenos"> 9</span>    <span class="s2">&quot;timer&quot;</span><span class="p">:</span> <span class="nb">int</span>
</span><span class="linenos">10</span><span class="p">}</span>
<span class="linenos">11</span>
<span class="hll"><span class="linenos">12</span><span class="c1"># The score you need to win the game</span>
</span><span class="hll"><span class="linenos">13</span><span class="n">WIN_THRESHOLD</span> <span class="o">=</span> <span class="mi">5</span>
</span><span class="hll"><span class="linenos">14</span><span class="c1"># The number of updates before the game should end</span>
</span><span class="hll"><span class="linenos">15</span><span class="c1">#    30 updates per second, for 10 seconds</span>
</span><span class="hll"><span class="linenos">16</span><span class="n">LENGTH_OF_GAME</span> <span class="o">=</span> <span class="mi">30</span> <span class="o">*</span> <span class="mi">10</span>
</span><span class="linenos">17</span>
<span class="linenos">18</span><span class="c1"># Create a function that creates new worlds</span>
<span class="linenos">19</span><span class="k">def</span> <span class="nf">create_the_world</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">World</span><span class="p">:</span>
<span class="linenos">20</span>    <span class="c1"># Actually create an initial World instance</span>
<span class="linenos">21</span>    <span class="k">return</span> <span class="p">{</span>
<span class="linenos">22</span>        <span class="c1"># The world has a 20x30 black rectangle in it</span>
<span class="linenos">23</span>        <span class="s2">&quot;box&quot;</span><span class="p">:</span> <span class="n">rectangle</span><span class="p">(</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span>
<span class="linenos">24</span>        <span class="c1"># The message to show the user</span>
<span class="linenos">25</span>        <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="n">text</span><span class="p">(</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="s2">&quot;Score:&quot;</span><span class="p">),</span>
<span class="linenos">26</span>        <span class="c1"># The player&#39;s current score</span>
<span class="linenos">27</span>        <span class="s2">&quot;score&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="hll"><span class="linenos">28</span>        <span class="c1"># The initial timer&#39;s time</span>
</span><span class="hll"><span class="linenos">29</span>        <span class="s2">&quot;timer&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span><span class="linenos">30</span>    <span class="p">}</span>
<span class="linenos">31</span>
<span class="linenos">32</span><span class="c1"># Define a function that spins the box</span>
<span class="linenos">33</span><span class="k">def</span> <span class="nf">spin_the_box</span><span class="p">(</span><span class="n">world</span><span class="p">:</span> <span class="n">World</span><span class="p">):</span>
<span class="linenos">34</span>    <span class="c1"># Increase the boxes angle by one degree</span>
<span class="linenos">35</span>    <span class="n">world</span><span class="p">[</span><span class="s1">&#39;box&#39;</span><span class="p">][</span><span class="s1">&#39;angle&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="linenos">36</span>
<span class="linenos">37</span><span class="c1"># Move the box to a random position</span>
<span class="linenos">38</span><span class="k">def</span> <span class="nf">teleport_the_box</span><span class="p">(</span><span class="n">world</span><span class="p">:</span> <span class="n">World</span><span class="p">):</span>
<span class="linenos">39</span>    <span class="c1"># Have a 1 in 10 chance of jumping around</span>
<span class="linenos">40</span>    <span class="k">if</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<span class="linenos">41</span>        <span class="c1"># Set x/y to be random coordinates within the bounds of the</span>
<span class="linenos">42</span>        <span class="c1"># window, given by get_width() and get_height()</span>
<span class="linenos">43</span>        <span class="n">world</span><span class="p">[</span><span class="s1">&#39;box&#39;</span><span class="p">][</span><span class="s1">&#39;x&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">get_width</span><span class="p">())</span>
<span class="linenos">44</span>        <span class="n">world</span><span class="p">[</span><span class="s1">&#39;box&#39;</span><span class="p">][</span><span class="s1">&#39;y&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">get_height</span><span class="p">())</span>
<span class="linenos">45</span>
<span class="linenos">46</span><span class="c1"># Keep the message in sync with the current score</span>
<span class="linenos">47</span><span class="k">def</span> <span class="nf">track_the_score</span><span class="p">(</span><span class="n">world</span><span class="p">:</span> <span class="n">World</span><span class="p">):</span>
<span class="linenos">48</span>    <span class="c1"># Get the current score</span>
<span class="linenos">49</span>    <span class="n">score</span> <span class="o">=</span> <span class="n">world</span><span class="p">[</span><span class="s1">&#39;score&#39;</span><span class="p">]</span>
<span class="linenos">50</span>    <span class="c1"># Update the message&#39;s text based on the score</span>
<span class="linenos">51</span>    <span class="n">world</span><span class="p">[</span><span class="s1">&#39;message&#39;</span><span class="p">][</span><span class="s1">&#39;text&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Score: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">score</span><span class="p">)</span>
<span class="linenos">52</span>
<span class="linenos">53</span><span class="c1"># Check if the box has been clicked and increase the score</span>
<span class="linenos">54</span><span class="k">def</span> <span class="nf">check_box_clicked</span><span class="p">(</span><span class="n">world</span><span class="p">:</span> <span class="n">World</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="linenos">55</span>    <span class="c1"># Use the Designer function colliding to check if two objects or</span>
<span class="linenos">56</span>    <span class="c1"># an object and a point are colliding.</span>
<span class="linenos">57</span>    <span class="k">if</span> <span class="n">colliding</span><span class="p">(</span><span class="n">world</span><span class="p">[</span><span class="s1">&#39;box&#39;</span><span class="p">],</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
<span class="linenos">58</span>        <span class="c1"># Update the score on a successful click</span>
<span class="linenos">59</span>        <span class="n">world</span><span class="p">[</span><span class="s1">&#39;score&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="linenos">60</span>
<span class="hll"><span class="linenos">61</span><span class="k">def</span> <span class="nf">advance_the_timer</span><span class="p">(</span><span class="n">world</span><span class="p">:</span> <span class="n">World</span><span class="p">):</span>
</span><span class="hll"><span class="linenos">62</span>    <span class="sd">&quot;&quot;&quot; Advance the timer by one step &quot;&quot;&quot;</span>
</span><span class="hll"><span class="linenos">63</span>    <span class="n">world</span><span class="p">[</span><span class="s1">&#39;timer&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span class="hll"><span class="linenos">64</span>
</span><span class="hll"><span class="linenos">65</span><span class="k">def</span> <span class="nf">the_timer_runs_out</span><span class="p">(</span><span class="n">world</span><span class="p">:</span> <span class="n">World</span><span class="p">):</span>
</span><span class="hll"><span class="linenos">66</span>    <span class="sd">&quot;&quot;&quot; Check if the score is above the threshold &quot;&quot;&quot;</span>
</span><span class="hll"><span class="linenos">67</span>    <span class="k">return</span> <span class="n">world</span><span class="p">[</span><span class="s1">&#39;timer&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">LENGTH_OF_GAME</span>
</span><span class="hll"><span class="linenos">68</span>
</span><span class="hll"><span class="linenos">69</span><span class="c1"># Flash a game over message</span>
</span><span class="hll"><span class="linenos">70</span><span class="k">def</span> <span class="nf">flash_game_over</span><span class="p">(</span><span class="n">world</span><span class="p">:</span> <span class="n">World</span><span class="p">):</span>
</span><span class="hll"><span class="linenos">71</span>    <span class="k">if</span> <span class="n">world</span><span class="p">[</span><span class="s1">&#39;score&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">WIN_THRESHOLD</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">72</span>        <span class="n">world</span><span class="p">[</span><span class="s1">&#39;message&#39;</span><span class="p">][</span><span class="s1">&#39;text&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Game over, you won!&quot;</span>
</span><span class="hll"><span class="linenos">73</span>    <span class="k">else</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">74</span>        <span class="n">world</span><span class="p">[</span><span class="s1">&#39;message&#39;</span><span class="p">][</span><span class="s1">&#39;text&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Game over, you lose!&quot;</span>
</span><span class="linenos">75</span>
<span class="linenos">76</span><span class="c1"># This tells Designer to call our `create_the_world` function</span>
<span class="linenos">77</span><span class="c1"># when the game starts, in order to setup our initial World.</span>
<span class="linenos">78</span><span class="n">when</span><span class="p">(</span><span class="s2">&quot;starting&quot;</span><span class="p">,</span> <span class="n">create_the_world</span><span class="p">)</span>
<span class="linenos">79</span><span class="c1"># Tell Designer to call our spin_the_box function every update.</span>
<span class="linenos">80</span><span class="c1"># There are usually 30 updates per second!</span>
<span class="linenos">81</span><span class="n">when</span><span class="p">(</span><span class="s2">&quot;updating&quot;</span><span class="p">,</span> <span class="n">spin_the_box</span><span class="p">)</span>
<span class="linenos">82</span><span class="c1"># Tell Designer to call teleport_the_box every update.</span>
<span class="linenos">83</span><span class="n">when</span><span class="p">(</span><span class="s2">&quot;updating&quot;</span><span class="p">,</span> <span class="n">teleport_the_box</span><span class="p">)</span>
<span class="linenos">84</span><span class="c1"># Tell Designer to call track_the_score every update.</span>
<span class="linenos">85</span><span class="n">when</span><span class="p">(</span><span class="s2">&quot;updating&quot;</span><span class="p">,</span> <span class="n">track_the_score</span><span class="p">)</span>
<span class="linenos">86</span><span class="c1"># Tell Designer to call check_box_clicked when the mouse is clicked</span>
<span class="linenos">87</span><span class="n">when</span><span class="p">(</span><span class="s1">&#39;clicking&#39;</span><span class="p">,</span> <span class="n">check_box_clicked</span><span class="p">)</span>
<span class="hll"><span class="linenos">88</span><span class="c1"># Tell Designer to update the timer</span>
</span><span class="hll"><span class="linenos">89</span><span class="n">when</span><span class="p">(</span><span class="s1">&#39;updating&#39;</span><span class="p">,</span> <span class="n">advance_the_timer</span><span class="p">)</span>
</span><span class="hll"><span class="linenos">90</span><span class="c1"># Tell Designer to check if the game is over, then flash our message</span>
</span><span class="hll"><span class="linenos">91</span><span class="c1"># and pause on that screen</span>
</span><span class="hll"><span class="linenos">92</span><span class="n">when</span><span class="p">(</span><span class="n">the_timer_runs_out</span><span class="p">,</span> <span class="n">flash_game_over</span><span class="p">,</span> <span class="n">pause</span><span class="p">)</span>
</span><span class="linenos">93</span>
<span class="linenos">94</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
</div></div>
<p>We want the game to end after 10 seconds, so we need a little bit more state to hold a <code class="code docutils literal notranslate"><span class="pre">timer</span></code>. This will be
an integer that increases by one every update of the game. Therefore, we also add a <code class="code docutils literal notranslate"><span class="pre">advance_the_timer</span></code> function
and bind it to the <code class="code docutils literal notranslate"><span class="pre">&quot;updating&quot;</span></code> event.</p>
<p>The next function we created ( <code class="code docutils literal notranslate"><span class="pre">the_timer_runs_out</span></code>) is a custom event: in order to satisfy that purpose,
we have to define the function to be a <em>predicate</em> (i.e., a function that returns a boolean value). Designer
will call the function every update and when it is True, it will call all the subsequent functions one after the
other.</p>
<p>In this case, the predicate  <code class="code docutils literal notranslate"><span class="pre">the_timer_runs_out</span></code> checks the current value stored in the World’s  <code class="code docutils literal notranslate"><span class="pre">timer</span></code> and
compares it to a global constant we created named  <code class="code docutils literal notranslate"><span class="pre">LENGTH_OF_GAME</span></code>. Rather than embedding that value in the function,
we created a constant at the top of our program. This makes it much easier for anyone wanting to extend our game
to see what that value represents, since it’s a more meaningful name than just the value <code class="code docutils literal notranslate"><span class="pre">300</span></code> (which represents
10 seconds, for a game that runs at 30 frames per second).</p>
<p>We defined a third function  <code class="code docutils literal notranslate"><span class="pre">flash_game_over</span></code> that changes the  <code class="code docutils literal notranslate"><span class="pre">&quot;message&quot;</span></code>’s <code class="code docutils literal notranslate"><span class="pre">&quot;text&quot;</span></code> field to be a
simple game over message. This takes advantage of the fact that after the game is paused, the update event no longer triggers,
meaning that the  <code class="code docutils literal notranslate"><span class="pre">track_the_score</span></code> function will not overwrite our message’s text. That <code class="code docutils literal notranslate"><span class="pre">flash_game_over</span></code>
function just has to check the current <code class="code docutils literal notranslate"><span class="pre">score</span></code> and determine if it has exceeded the threshold for victory that
we stored in the global constant <code class="code docutils literal notranslate"><span class="pre">WIN_THRESHOLD</span></code>.</p>
<p>Finally, the <a class="reference internal" href="../students/docs.html#pause"><span class="std std-ref">pause</span></a> function (another Designer built-in) is used to hang the game without closing the
Window (if you wanted to do that, then you could use the <a class="reference internal" href="../students/docs.html#stop"><span class="std std-ref">stop</span></a> function instead. Whatever was drawn last
will still be rendered, but no further events are processed.</p>
<a class="reference internal image-reference" href="../_images/world_7.gif"><img alt="A window with a teleporting, rotating, black rectangle. The mouse clicks on the rectangle a few times, increasing the score displayed each time, until they earn 5 points and the game ends." src="../_images/world_7.gif" style="width: 700px;" /></a>
</section>
<section id="wrapping-up">
<h2>Wrapping Up<a class="headerlink" href="#wrapping-up" title="Permalink to this heading">¶</a></h2>
<p>So there you have a simple “click the teleporting, spinning rectangle” game. We’ve incorporated event handling,
collision detection, and several other Designer features all into one code file.</p>
<p>Try making some of these changes to the game:</p>
<ol class="arabic simple">
<li><p>Swap out the rectangle for an image of your choice. Make the image change whenever you click on the rectangle.</p></li>
<li><p>Instead of having the rectangle move randomly, choose a spot that is far away from the mouse.</p></li>
<li><p>Whenever the mouse clicks on the rectangle, immediately have it jump away.</p></li>
<li><p>Instead of teleporting at random intervals, have the rectangle teleport every 60 updates (hint: use the <code class="code docutils literal notranslate"><span class="pre">%</span></code> operator).</p></li>
<li><p>Modify the message to also show the current timer.</p></li>
<li><p>Have the rectangle spin forward and then BACKWARD. You’ll need an additional field to keep track of its current direction!</p></li>
<li><p>Use the timer to wait an additional 5 seconds after the game ends, and then have everything restart by updating the world appropriately.</p></li>
</ol>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="sphinx-toc sphinxlocaltoc">
    <h3><a href="../contents.html">Page contents</a></h3>
    <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../research/welcome.html">What is Designer and its Research?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../students/installation.html">How to Install Designer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart/quickstart.html">Designer Quick Start Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="examples.html">Longer Examples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="emoji_clicker.html">Emoji Clicker</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Designer Worlds</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#the-world">The World</a></li>
<li class="toctree-l3"><a class="reference internal" href="#updating-the-world">Updating the World</a></li>
<li class="toctree-l3"><a class="reference internal" href="#interacting-with-the-world">Interacting with the World</a></li>
<li class="toctree-l3"><a class="reference internal" href="#a-touch-of-randomness">A Touch of Randomness</a></li>
<li class="toctree-l3"><a class="reference internal" href="#keeping-score">Keeping Score</a></li>
<li class="toctree-l3"><a class="reference internal" href="#responding-to-clicks">Responding to Clicks</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ending-the-game">Ending the Game</a></li>
<li class="toctree-l3"><a class="reference internal" href="#wrapping-up">Wrapping Up</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="sparkles.html">Sparkles</a></li>
<li class="toctree-l2"><a class="reference internal" href="arrows.html">Arrows</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../students/docs.html">Designer Documentation for Students</a></li>
<li class="toctree-l1"><a class="reference internal" href="../students/functions.html">Designer Functions Quick List</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/reference.html">Reference Lists</a></li>
<li class="toctree-l1"><a class="reference internal" href="../students/help.html">More Help</a></li>
</ul>

  </div>
  <div class="sphinxprev">
    <h4>Previous page</h4>
    <p class="topless"><a href="emoji_clicker.html"
                          title="Previous page">&larr; Emoji Clicker</a></p>
  </div>
  <div class="sphinxnext">
    <h4>Next page</h4>
    <p class="topless"><a href="sparkles.html"
                          title="Next page">&rarr; Sparkles</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/examples/world.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
    
    
        <div class="sidebar-toggle-group no-js">
            
            <button class="sidebar-toggle" id="sidebar-hide" title="Hide the sidebar menu">
                 «
                <span class="show-for-small">hide menu</span>
                
            </button>
            <button class="sidebar-toggle" id="sidebar-show" title="Show the sidebar menu">
                
                <span class="show-for-small">menu</span>
                <span class="hide-for-small">sidebar</span>
                 »
            </button>
        </div>
    
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="sparkles.html" title="Sparkles"
             >next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="emoji_clicker.html" title="Emoji Clicker"
             >previous</a> &nbsp; &nbsp;</li>
    <li><a href="../contents.html">Designer 0.4.1 documentation</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="examples.html" >Longer Examples</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Designer Worlds</a></li> 
      </ul>
    </div>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2021, acbart, krishols.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.1.1.
    </div>
    <!-- cloud_sptheme 1.4 -->
  </body>
</html>